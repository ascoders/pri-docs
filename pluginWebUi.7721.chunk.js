(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{169:function(e,a,t){"use strict";t.r(a);var n=t(0);a.default=n.createElement("div",{className:"markdown-body"},n.createElement("div",null,n.createElement("h1",null,"Web UI"),n.createElement("p",null,"You can extend web ui in your plugin."),n.createElement("p",null,"First, set your ",n.createElement("code",null,"web-entry")," path in plugin’s ",n.createElement("code",null,"package.json"),":"),n.createElement("pre",null,n.createElement("code",{className:"language-json"},"{","\n","  ",n.createElement("span",{className:"hljs-attr"},'"pri"'),": ","{","\n","    ",n.createElement("span",{className:"hljs-attr"},'"type"'),": ",n.createElement("span",{className:"hljs-string"},'"plugin"'),",","\n","    ",n.createElement("span",{className:"hljs-attr"},'"web-entry"'),": ",n.createElement("span",{className:"hljs-string"},'"./built/src/web/index.js"'),"\n","  ","}","\n","}","\n")),n.createElement("p",null,"Then, create file ",n.createElement("code",null,"./src/web/index.tsx"),":"),n.createElement("pre",null,n.createElement("code",{className:"language-tsx"},n.createElement("span",{className:"hljs-keyword"},"import")," * ",n.createElement("span",{className:"hljs-keyword"},"as")," React ",n.createElement("span",{className:"hljs-keyword"},"from")," ",n.createElement("span",{className:"hljs-string"},"'react'"),";","\n","\n",n.createElement("span",{className:"hljs-class"},n.createElement("span",{className:"hljs-keyword"},"class")," ",n.createElement("span",{className:"hljs-title"},"View")," ",n.createElement("span",{className:"hljs-keyword"},"extends")," ",n.createElement("span",{className:"hljs-title"},"React"),".",n.createElement("span",{className:"hljs-title"},"Component"),"<",n.createElement("span",{className:"hljs-title"},"any"),", ",n.createElement("span",{className:"hljs-title"},"any"),"> "),"{","\n","  ","public render() ","{","\n","    ",n.createElement("span",{className:"hljs-keyword"},"return")," ",n.createElement("span",{className:"xml"},n.createElement("span",{className:"hljs-tag"},"<",n.createElement("span",{className:"hljs-name"},"div"),">"),"Test",n.createElement("span",{className:"hljs-tag"},"</",n.createElement("span",{className:"hljs-name"},"div"),">")),";","\n","  ","}","\n","}","\n","\n",n.createElement("span",{className:"hljs-keyword"},"export")," ",n.createElement("span",{className:"hljs-keyword"},"default")," ","{","\n","  ",n.createElement("span",{className:"hljs-attr"},"position"),": ",n.createElement("span",{className:"hljs-string"},"'menu'"),",","\n","  ",n.createElement("span",{className:"hljs-attr"},"view"),": View，","\n","  ","init: ",n.createElement("span",{className:"hljs-function"},"(",n.createElement("span",{className:"hljs-params"},"applicationAction: any"),") =>")," ","{","}","\n","}",";","\n")),n.createElement("p",null,"Then, you plugin will be loaded into the hole of ",n.createElement("code",null,"menu"),"."),n.createElement("h2",null,"Debug webui"),n.createElement("p",null,"You can debug webui by execute ",n.createElement("code",null,"npx pri dev -d")," in your project!"),n.createElement("p",null,"Don’t forget to execute ",n.createElement("code",null,"npm start")," in your plugin’s dir."),n.createElement("h2",null,"Position enums"),n.createElement("p",null,"Here is all positions in the webUI:"),n.createElement("img",{src:"https://user-images.githubusercontent.com/7970947/39683416-de6ba0f6-51e7-11e8-9a6e-124f63ba4415.png",width:800}),n.createElement("h3",null,n.createElement("code",null,"menu")),n.createElement("p",null,"Append menu on the top bar. You can add some operate button here."),n.createElement("h3",null,n.createElement("code",null,"tree-[name]")),n.createElement("p",null,"When user click the left tree, for example ",n.createElement("code",null,"routes"),", ",n.createElement("code",null,"tree-routes")," will be rendered on the right."),n.createElement("p",null,"So you can register both tree and ",n.createElement("code",null,"tree-[name]"),", and make sure they have same keys."),n.createElement("h2",null,"applicationAction"),n.createElement("p",null,"We can control webUI using ",n.createElement("code",null,"applicationAction"),", and we can get it on the ",n.createElement("code",null,"init")," callback:"),n.createElement("pre",null,n.createElement("code",{className:"language-tsx"},n.createElement("span",{className:"hljs-keyword"},"import")," * ",n.createElement("span",{className:"hljs-keyword"},"as")," React ",n.createElement("span",{className:"hljs-keyword"},"from")," ",n.createElement("span",{className:"hljs-string"},"'react'"),";","\n","\n",n.createElement("span",{className:"hljs-class"},n.createElement("span",{className:"hljs-keyword"},"class")," ",n.createElement("span",{className:"hljs-title"},"View")," ",n.createElement("span",{className:"hljs-keyword"},"extends")," ",n.createElement("span",{className:"hljs-title"},"React"),".",n.createElement("span",{className:"hljs-title"},"Component"),"<",n.createElement("span",{className:"hljs-title"},"any"),", ",n.createElement("span",{className:"hljs-title"},"any"),"> "),"{","}","\n","\n",n.createElement("span",{className:"hljs-keyword"},"export")," ",n.createElement("span",{className:"hljs-keyword"},"default")," ","{","\n","  ",n.createElement("span",{className:"hljs-attr"},"position"),": ",n.createElement("span",{className:"hljs-string"},"'menu'"),",","\n","  ",n.createElement("span",{className:"hljs-attr"},"view"),": View，","\n","  ","init: ",n.createElement("span",{className:"hljs-function"},"(",n.createElement("span",{className:"hljs-params"},"applicationAction: any"),") =>")," ","{","\n","    ",n.createElement("span",{className:"hljs-comment"},"// Access applicationAction"),"\n","  ","}","\n","}",";","\n")),n.createElement("h3",null,"event"),n.createElement("p",null,"TODO"),n.createElement("h3",null,"pipeTreeNode"),n.createElement("p",null,"We can expend left tree on the webui:"),n.createElement("pre",null,n.createElement("code",{className:"language-tsx"},n.createElement("span",{className:"hljs-keyword"},"import")," ","{"," Icon ","}"," ",n.createElement("span",{className:"hljs-keyword"},"from")," ",n.createElement("span",{className:"hljs-string"},"'antd'"),";","\n","\n",n.createElement("span",{className:"hljs-keyword"},"const")," TreeIcon = ",n.createElement("span",{className:"hljs-function"},"(",n.createElement("span",{className:"hljs-params"},"props: any"),") =>")," <Icon style=","{","{"," ",n.createElement("span",{className:"hljs-attr"},"marginRight"),": ",n.createElement("span",{className:"hljs-number"},"5")," ","}","}"," ","{","...props","}"," />;","\n","\n","applicationAction.pipeTreeNode(",n.createElement("span",{className:"hljs-function"},"(",n.createElement("span",{className:"hljs-params"},"treeData: any"),") =>")," ","{","\n","  ","treeData[",n.createElement("span",{className:"hljs-number"},"0"),"].children.push(","{","\n","    ",n.createElement("span",{className:"hljs-attr"},"key"),": ",n.createElement("span",{className:"hljs-string"},"'project-analyse'"),",","\n","    ",n.createElement("span",{className:"hljs-attr"},"title"),": ",n.createElement("span",{className:"hljs-string"},"`ProjectAnalyse`"),",","\n","    ",n.createElement("span",{className:"hljs-attr"},"icon"),": ",n.createElement("span",{className:"xml"},n.createElement("span",{className:"hljs-tag"},"<",n.createElement("span",{className:"hljs-name"},"TreeIcon")," ",n.createElement("span",{className:"hljs-attr"},"type"),"=",n.createElement("span",{className:"hljs-string"},'"setting"')," />"),",","\n","    ","children: [","\n","      ","// The same structor with parent, and can be empty.","\n","    ","]","\n","  ","}",");","\n","  ","return treeData;","\n","}",");","\n"))),n.createElement("p",null,"In above code, we register a new tree element:"),n.createElement("img",{src:"https://user-images.githubusercontent.com/7970947/39683744-c252c474-51e9-11e8-932c-de87f1aa3bcf.png",width:240}),n.createElement("p",null,"And when we click it, ",n.createElement("code",null,"tree-project-analyse")," will be loaded on the right area:"),n.createElement("img",{src:"https://user-images.githubusercontent.com/7970947/39683806-1b60d3a8-51ea-11e8-90df-3058941bcdd1.png",width:800}),n.createElement("p",null,"So we can set position to ",n.createElement("code",null,"tree-project-analyse")," to hold it:"),n.createElement("pre",null,n.createElement("code",{className:"language-tsx"},n.createElement("span",{className:"hljs-keyword"},"export")," ",n.createElement("span",{className:"hljs-keyword"},"default")," ","{","\n","  ",n.createElement("span",{className:"hljs-attr"},"position"),": ",n.createElement("span",{className:"hljs-string"},"'tree-project-analyse'"),",","\n","  ",n.createElement("span",{className:"hljs-attr"},"view"),": View，","\n","  ","init: ",n.createElement("span",{className:"hljs-function"},"(",n.createElement("span",{className:"hljs-params"},"applicationAction: any"),") =>")," ","{","\n","    ",n.createElement("span",{className:"hljs-comment"},"// Access applicationAction"),"\n","  ","}","\n","}",";","\n"))))}}]);