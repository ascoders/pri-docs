(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{315:function(e,n,a){"use strict";a.r(n);var t=a(0);n.default=t.createElement("div",{className:"markdown-body"},t.createElement("div",null,t.createElement("h1",null,"Service worker"),t.createElement("p",null,"You can use ",t.createElement("code",null,".serviceWorker")," to extend code in service worker."),t.createElement("h2",null,"pipe"),t.createElement("p",null,t.createElement("code",null,"pipe")," to serviceWorker file, wether in local build or prod build. ",t.createElement("strong",null,t.createElement("code",null,"serviceWorker.pipe")," must be wrapped in ",t.createElement("code",null,"onAnalyseProject"),".")),t.createElement("pre",null,t.createElement("code",{className:"language-typescript"},t.createElement("span",{className:"hljs-keyword"},"import")," ","{"," pri ","}"," ",t.createElement("span",{className:"hljs-keyword"},"from")," ",t.createElement("span",{className:"hljs-string"},"'pri'"),";","\n","\n",t.createElement("span",{className:"hljs-keyword"},"export")," ",t.createElement("span",{className:"hljs-keyword"},"default")," (instance: ",t.createElement("span",{className:"hljs-keyword"},"typeof")," pri) => ","{","\n","  ","instance.project.onAnalyseProject(",t.createElement("span",{className:"hljs-function"},t.createElement("span",{className:"hljs-params"},"()")," =>")," ","{","\n","    ","instance.serviceWorker.pipe(","\n","      ",t.createElement("span",{className:"hljs-function"},t.createElement("span",{className:"hljs-params"},"text")," =>")," ",t.createElement("span",{className:"hljs-string"},"`","\n","      ","\\$","{","text","}","\n","      ",'self.addEventListener("fetch", event => ',"{","\n","        ","// some code here..","\n","      ","}",")","\n","      ","`"),"\n","    ",");","\n","  ","}",");","\n","}",";","\n")),t.createElement("h2",null,"pipeAfterProdBuild"),t.createElement("p",null,t.createElement("code",null,"pipeAfterProdBuild")," allow you to extend code to serviceWorker after prod build, ",t.createElement("strong",null,t.createElement("code",null,"serviceWorker.pipeAfterProdBuild")," must be wrapped in ",t.createElement("code",null,"afterProdBuild"),".")),t.createElement("pre",null,t.createElement("code",{className:"language-typescript"},t.createElement("span",{className:"hljs-keyword"},"import")," ","{"," pri ","}"," ",t.createElement("span",{className:"hljs-keyword"},"from")," ",t.createElement("span",{className:"hljs-string"},"'pri'"),";","\n","\n",t.createElement("span",{className:"hljs-keyword"},"export")," ",t.createElement("span",{className:"hljs-keyword"},"default")," (instance: ",t.createElement("span",{className:"hljs-keyword"},"typeof")," pri) => ","{","\n","  ","instance.build.afterProdBuild(",t.createElement("span",{className:"hljs-function"},t.createElement("span",{className:"hljs-params"},"stats")," =>")," ","{","\n","    ","instance.serviceWorker.pipeAfterProdBuild(","\n","      ",t.createElement("span",{className:"hljs-function"},t.createElement("span",{className:"hljs-params"},"text")," =>")," ",t.createElement("span",{className:"hljs-string"},"`","\n","      ","\\$","{","text","}","\n","      ","// use stats.assetsByChunkName do something..","\n","    ","`"),"\n","    ",");","\n","  ","}",");","\n","}",";","\n"))))}}]);